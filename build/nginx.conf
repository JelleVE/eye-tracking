user root;
worker_processes auto;
pid /run/nginx.pid;

events {
    worker_connections 1024;
    use epoll;
    multi_accept on;
}

http {
    sendfile            on;
    tcp_nopush          on;
    tcp_nodelay         on;
    keepalive_timeout   60000;
    types_hash_max_size 2048;
    include             /etc/nginx/mime.types;
    default_type        application/octet-stream;
    index               index.html index.htm;

    server {
        listen                      5000 default_server;
        listen                      [::]:5000 default_server;
        proxy_read_timeout          100000;
        proxy_connect_timeout       100000;
        proxy_send_timeout          100000; 
        server_name                 _;

        location / {
            include uwsgi_params;
            uwsgi_pass unix:/app/api.sock;
            uwsgi_read_timeout 10h;
            uwsgi_send_timeout 10h;
            proxy_send_timeout 10h;
            proxy_read_timeout 10h;
        }
    }
}
